import{e as q,f as j,g as N,m as V,D as C,l as _,j as G,k as A,t as I}from"./ClMIrU87.js";function X(v,e,D,c){return v.params.createElements&&Object.keys(c).forEach(f=>{if(!D[f]&&D.auto===!0){let p=q(v.el,`.${c[f]}`)[0];p||(p=j("div",c[f]),p.className=c[f],v.el.append(p)),D[f]=p,e[f]=p}}),D}function Y(v){return v===void 0&&(v=""),`.${v.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function U(v){let{swiper:e,extendParams:D,on:c,emit:f}=v;const p=N();let z=!1,k=null,b=null,M,a,g,S;D({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function d(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:t,rtlTranslate:r}=e,{dragEl:s,el:l}=t,i=e.params.scrollbar,T=e.params.loop?e.progressLoop:e.progress;let E=a,n=(g-a)*T;r?(n=-n,n>0?(E=a-n,n=0):-n+a>g&&(E=g+n)):n<0?(E=a+n,n=0):n+a>g&&(E=g-n),e.isHorizontal()?(s.style.transform=`translate3d(${n}px, 0, 0)`,s.style.width=`${E}px`):(s.style.transform=`translate3d(0px, ${n}px, 0)`,s.style.height=`${E}px`),i.hide&&(clearTimeout(k),l.style.opacity=1,k=setTimeout(()=>{l.style.opacity=0,l.style.transitionDuration="400ms"},1e3))}function h(t){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${t}ms`)}function L(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:t}=e,{dragEl:r,el:s}=t;r.style.width="",r.style.height="",g=e.isHorizontal()?s.offsetWidth:s.offsetHeight,S=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?a=g*S:a=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?r.style.width=`${a}px`:r.style.height=`${a}px`,S>=1?s.style.display="none":s.style.display="",e.params.scrollbar.hide&&(s.style.opacity=0),e.params.watchOverflow&&e.enabled&&t.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function H(t){return e.isHorizontal()?t.clientX:t.clientY}function y(t){const{scrollbar:r,rtlTranslate:s}=e,{el:l}=r;let i;i=(H(t)-G(l)[e.isHorizontal()?"left":"top"]-(M!==null?M:a/2))/(g-a),i=Math.max(Math.min(i,1),0),s&&(i=1-i);const T=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*i;e.updateProgress(T),e.setTranslate(T),e.updateActiveIndex(),e.updateSlidesClasses()}function $(t){const r=e.params.scrollbar,{scrollbar:s,wrapperEl:l}=e,{el:i,dragEl:T}=s;z=!0,M=t.target===T?H(t)-t.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,t.preventDefault(),t.stopPropagation(),l.style.transitionDuration="100ms",T.style.transitionDuration="100ms",y(t),clearTimeout(b),i.style.transitionDuration="0ms",r.hide&&(i.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),f("scrollbarDragStart",t)}function o(t){const{scrollbar:r,wrapperEl:s}=e,{el:l,dragEl:i}=r;z&&(t.preventDefault&&t.cancelable?t.preventDefault():t.returnValue=!1,y(t),s.style.transitionDuration="0ms",l.style.transitionDuration="0ms",i.style.transitionDuration="0ms",f("scrollbarDragMove",t))}function P(t){const r=e.params.scrollbar,{scrollbar:s,wrapperEl:l}=e,{el:i}=s;z&&(z=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",l.style.transitionDuration=""),r.hide&&(clearTimeout(b),b=_(()=>{i.style.opacity=0,i.style.transitionDuration="400ms"},1e3)),f("scrollbarDragEnd",t),r.snapOnRelease&&e.slideToClosest())}function w(t){const{scrollbar:r,params:s}=e,l=r.el;if(!l)return;const i=l,T=s.passiveListeners?{passive:!1,capture:!1}:!1,E=s.passiveListeners?{passive:!0,capture:!1}:!1;if(!i)return;const n=t==="on"?"addEventListener":"removeEventListener";i[n]("pointerdown",$,T),p[n]("pointermove",o,T),p[n]("pointerup",P,E)}function x(){!e.params.scrollbar.el||!e.scrollbar.el||w("on")}function B(){!e.params.scrollbar.el||!e.scrollbar.el||w("off")}function m(){const{scrollbar:t,el:r}=e;e.params.scrollbar=X(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const s=e.params.scrollbar;if(!s.el)return;let l;if(typeof s.el=="string"&&e.isElement&&(l=e.el.querySelector(s.el)),!l&&typeof s.el=="string"){if(l=p.querySelectorAll(s.el),!l.length)return}else l||(l=s.el);e.params.uniqueNavElements&&typeof s.el=="string"&&l.length>1&&r.querySelectorAll(s.el).length===1&&(l=r.querySelector(s.el)),l.length>0&&(l=l[0]),l.classList.add(e.isHorizontal()?s.horizontalClass:s.verticalClass);let i;l&&(i=l.querySelector(Y(e.params.scrollbar.dragClass)),i||(i=j("div",e.params.scrollbar.dragClass),l.append(i))),Object.assign(t,{el:l,dragEl:i}),s.draggable&&x(),l&&l.classList[e.enabled?"remove":"add"](...C(e.params.scrollbar.lockClass))}function u(){const t=e.params.scrollbar,r=e.scrollbar.el;r&&r.classList.remove(...C(e.isHorizontal()?t.horizontalClass:t.verticalClass)),B()}c("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;const t=e.params.scrollbar;let{el:r}=e.scrollbar;r=V(r),r.forEach(s=>{s.classList.remove(t.horizontalClass,t.verticalClass),s.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass)})}),c("init",()=>{e.params.scrollbar.enabled===!1?R():(m(),L(),d())}),c("update resize observerUpdate lock unlock changeDirection",()=>{L()}),c("setTranslate",()=>{d()}),c("setTransition",(t,r)=>{h(r)}),c("enable disable",()=>{const{el:t}=e.scrollbar;t&&t.classList[e.enabled?"remove":"add"](...C(e.params.scrollbar.lockClass))}),c("destroy",()=>{u()});const O=()=>{e.el.classList.remove(...C(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...C(e.params.scrollbar.scrollbarDisabledClass)),m(),L(),d()},R=()=>{e.el.classList.add(...C(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...C(e.params.scrollbar.scrollbarDisabledClass)),u()};Object.assign(e.scrollbar,{enable:O,disable:R,updateSize:L,setTranslate:d,init:m,destroy:u})}function W(v){let{swiper:e,extendParams:D,emit:c,once:f}=v;D({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function p(){if(e.params.cssMode)return;const b=e.getTranslate();e.setTranslate(b),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function z(){if(e.params.cssMode)return;const{touchEventsData:b,touches:M}=e;b.velocities.length===0&&b.velocities.push({position:M[e.isHorizontal()?"startX":"startY"],time:b.touchStartTime}),b.velocities.push({position:M[e.isHorizontal()?"currentX":"currentY"],time:A()})}function k(b){let{currentPos:M}=b;if(e.params.cssMode)return;const{params:a,wrapperEl:g,rtlTranslate:S,snapGrid:d,touchEventsData:h}=e,H=A()-h.touchStartTime;if(M<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(M>-e.maxTranslate()){e.slides.length<d.length?e.slideTo(d.length-1):e.slideTo(e.slides.length-1);return}if(a.freeMode.momentum){if(h.velocities.length>1){const m=h.velocities.pop(),u=h.velocities.pop(),O=m.position-u.position,R=m.time-u.time;e.velocity=O/R,e.velocity/=2,Math.abs(e.velocity)<a.freeMode.minimumVelocity&&(e.velocity=0),(R>150||A()-m.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=a.freeMode.momentumVelocityRatio,h.velocities.length=0;let y=1e3*a.freeMode.momentumRatio;const $=e.velocity*y;let o=e.translate+$;S&&(o=-o);let P=!1,w;const x=Math.abs(e.velocity)*20*a.freeMode.momentumBounceRatio;let B;if(o<e.maxTranslate())a.freeMode.momentumBounce?(o+e.maxTranslate()<-x&&(o=e.maxTranslate()-x),w=e.maxTranslate(),P=!0,h.allowMomentumBounce=!0):o=e.maxTranslate(),a.loop&&a.centeredSlides&&(B=!0);else if(o>e.minTranslate())a.freeMode.momentumBounce?(o-e.minTranslate()>x&&(o=e.minTranslate()+x),w=e.minTranslate(),P=!0,h.allowMomentumBounce=!0):o=e.minTranslate(),a.loop&&a.centeredSlides&&(B=!0);else if(a.freeMode.sticky){let m;for(let u=0;u<d.length;u+=1)if(d[u]>-o){m=u;break}Math.abs(d[m]-o)<Math.abs(d[m-1]-o)||e.swipeDirection==="next"?o=d[m]:o=d[m-1],o=-o}if(B&&f("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(S?y=Math.abs((-o-e.translate)/e.velocity):y=Math.abs((o-e.translate)/e.velocity),a.freeMode.sticky){const m=Math.abs((S?-o:o)-e.translate),u=e.slidesSizesGrid[e.activeIndex];m<u?y=a.speed:m<2*u?y=a.speed*1.5:y=a.speed*2.5}}else if(a.freeMode.sticky){e.slideToClosest();return}a.freeMode.momentumBounce&&P?(e.updateProgress(w),e.setTransition(y),e.setTranslate(o),e.transitionStart(!0,e.swipeDirection),e.animating=!0,I(g,()=>{!e||e.destroyed||!h.allowMomentumBounce||(c("momentumBounce"),e.setTransition(a.speed),setTimeout(()=>{e.setTranslate(w),I(g,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(c("_freeModeNoMomentumRelease"),e.updateProgress(o),e.setTransition(y),e.setTranslate(o),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,I(g,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(o),e.updateActiveIndex(),e.updateSlidesClasses()}else if(a.freeMode.sticky){e.slideToClosest();return}else a.freeMode&&c("_freeModeNoMomentumRelease");(!a.freeMode.momentum||H>=a.longSwipesMs)&&(c("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:p,onTouchMove:z,onTouchEnd:k}})}export{U as S,Y as a,X as c,W as f};
